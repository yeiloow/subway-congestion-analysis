# Context
이전 EDA 결과를 바탕으로 모델링을 위한 데이터 전처리를 진행하려고 합니다.

# Task
다음 요구사항에 맞춰 데이터 전처리 코드를 작성해주세요.
1. **결측치 처리:** [구체적 방법: 예, 평균값 대치 / 행 삭제 / KNN Imputer 사용]
2. **이상치 처리:** IQR 방식을 사용하여 이상치를 제거하거나 윈저라이징(Winsorizing) 하세요.
3. **인코딩:** 범주형 변수([변수명 리스트])에 대해 One-Hot Encoding 또는 Label Encoding을 적용하세요.
4. **피처 엔지니어링:**
   - 날짜 컬럼에서 '연/월/일/요일' 파생 변수를 생성하세요.
   - [변수 A]와 [변수 B]를 활용하여 [새로운 비율 변수]를 만드세요.

# Output Format
- 전처리 전후의 데이터 차원(Shape) 변화를 주석으로 명시하세요.
- Scikit-learn의 Pipeline을 사용하면 더 좋습니다.